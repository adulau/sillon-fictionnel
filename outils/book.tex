\documentclass[a4paper,fontsize=12pt,parskip=full*]{scrartcl}

\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage{libertine}
% Typeface settings
\usepackage{microtype}
%\usepackage[T1]{fontenc}
\usepackage{paratype}
%\renewcommand*\familydefault{\sfdefault}
\newcommand{\pandocbounded}[1]{#1}
\usepackage{amsmath}
\providecommand{\tightlist}{% 
\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\usepackage{fullpage}
% Footnote kerning
% \usepackage{fnpct}
\usepackage{floatrow}

% Longtabe and friends
\usepackage{rotating,multirow,longtable,booktabs}

% Footnote symbols
\usepackage[bottom,para,symbol*]{footmisc}

\usepackage{graphicx}

\let\origfigure\figure
\let\endorigfigure\endfigure

\renewenvironment{figure}[1][tbph]{%
    \origfigure[#1]%
    \centering
}{%
    \endorigfigure
}
\usepackage{sectsty}
\subsectionfont{\color{DarkSlateGrey}}
\usepackage{titlesec}
\titlespacing{\section}{0pt}{\parskip}{-\parskip}
\titlespacing{\subsection}{0pt}{\parskip}{-\parskip}
\renewcommand{\baselinestretch}{1}
\usepackage[justification=justified, singlelinecheck=false]{caption}

\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\hspace*{-3.5pt}%
  \parbox{\textwidth}{\colorbox{LightSlateGrey}{\parbox{\dimexpr\textwidth+1pt}{#1#2#3}}\vskip2.8pt}}
\captionsetup[lstlisting]{labelformat=empty,format=listing,labelfont=white,textfont=white}

\renewenvironment{figure}[1][width=\marginparwidth]
  {\begin{marginfigure}}
  {\end{marginfigure}}


% Page size and margins
% \usepackage[paperwidth=8.5in,paperheight=8.5in,top=1in,bottom=1in,left=1in,right=1in]{geometry}

% Make links invisible, change metadata
%\usepackage[hidelinks,pdfproducer={pandoc}]{hyperref}


\usepackage[%
unicode=true,
hyperindex=true,
bookmarks=true,
colorlinks=true, % change to false for final
pdfborder=0,
% plainpages=false,
pdfpagelabels,
hyperfootnotes=true]{hyperref}

% Remove page numbers
\pagenumbering{gobble}

% Booktabs styling
\setlength\heavyrulewidth{1.5pt}% Thick top and bottom lines
\setlength{\defaultaddspace}{0.65ex}% Adjusted line spacing
\let\originaltoprule\toprule
\renewcommand{\toprule}{\originaltoprule[0pt]}% No top rule
\setkeys{Gin}{width=150pt,height=150pt,keepaspectratio}

% Dotted lines, load after longtable
\usepackage{arydshln}
\renewcommand*\cmidrule{\hdashline[.4pt/1pt]}% Dashed middle lines

% Adjust caption of floats (tables)
\usepackage{floatrow}
\floatsetup[longtable]{style=plaintop}% Does not work!

\makeatother
\begin{document}

\tableofcontents

$body$

\end{document}

